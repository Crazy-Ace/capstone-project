"use strict";function toggleBookmark(t){function e(){t.classList.toggle("btn-bookmark--bookmarked")}function n(){Database.retrieve("Articles","guid",s).then(function(t){var n=t[0];n.isBookmarked=!0,Database.add("Articles",n),Database.add("Bookmarks",n).then(function(){return e()})})}function i(){Database.remove("Bookmarks",!1,"guid",s).then(function(){return e()})}var s=t.getAttribute("data-guid");Database.retrieve("Bookmarks","guid",s).then(function(t){return console.log(t),0===t.length?n():void i()})}function sortedArticles(t){return t.sort(function(t,e){return new Date(e.pubDate)-new Date(t.pubDate)})}function displayNavigationTemplate(t){navigation.innerHTML=MyApp.templates.nav(t)}var bitsofcode_rss_to_api_url="https://rss2json.com/api.json?rss_url=https://bitsofco.de/rss/",Database=new IDB,myNotificationsService=void 0;Handlebars.registerHelper("excerpt",function(t,e){var n=t.lastIndexOf("</p>");return t=t.slice(0,n)+"...."+t.slice(n)}),Handlebars.registerHelper("moment",function(t,e){var n=t,i=moment(n).calendar(null,{sameDay:"[Today]",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"MMM Do, YYYY"});return i});var navigation=document.querySelector(".site-nav"),lastScrollPosition=0;window.onscroll=function(){var t=window.scrollY,e=lastScrollPosition-t,n=e>10|e<-10,i=t<lastScrollPosition,s=t>lastScrollPosition;n&&(i?navigation.classList.remove("hidden"):s&&navigation.classList.add("hidden")),lastScrollPosition=t},"serviceWorker"in navigator&&navigator.serviceWorker.register("./service-worker.js").then(function(t){console.log("Service Worker Registered",t),myNotificationsService=new NotificationsService(t)}).catch(function(t){console.log("Service Worker Failed to Register",t)});